# CapitalGainCalculator
## An Application For Stocks Trading Accounting Reports Generation


## Application Features
* Generates Reports For Capital Gain/Loss Amounts, Buy/Sell Volumes, Turnover Amount, Stocks Closing Balance, Stocks Ledger
* Handles Long/Short Trades
* Reads stock trading buy/sell transactions from CSV file
* Automatically Generates Reports Given The Input
* Provides 3 Separate Modules:
 * Capital Gain/Loss Calculator
 * Stocks Closing Balance Generator
 * Stocks Ledger Generator
* Reports Generated By The Capital Gain/Loss Calculator Module:
 * Per Symbol Stock-In-Hand
 * Capital Gains/Losses Per Symbol During The Specified Period
 * Capital Gains/Losses Per Month During The Specified Period
 * Capital Gains/Losses During Each Of The Specified Custom Date Ranges
 * Commission Paid During Each Of The Specified Custom Date Ranges
 * Turnover Amount for Intra-Day Trades
 * Turnover Amount for Delivery Trades
 * Net Capital Gains/Losses In The Trading Currency
 * Net Capital Gains/Losses In The Target Currency (if different than the trading currency)
 * Generates Separate Outputs for Long/Short Trades
 * Total Buys and Sells During Each Of The Specified Custom Date Ranges
 * Total Buys and Sells Per Month During The Specified Period
 * Total Buys and Sells Per Symbol During The Specified Period
 * Total Buys and Sells Per Symbol During Each Of The Specified Custom Date Ranges
* Reports Generated By The Stocks Opening/Closing Balance Generator Module:
 * Opening/Closing Balance Per Symbol Having Long Trades
 * Opening/Closing Balance Per Symbol Having Short Trades
* Reports Generated By The Stocks Ledger Generator Module:
 * Separate Output Tables For Long/Short Trades
 * Output Tables Include The Following Columns:<br>
 `Type,Symbol,BuyDate,BuyCost,Qty,RemainingQty,BuyOrderId,BuyVoucherNo,SellDate,SellOrderID,SellVoucherNo,Long/Short`


## Technical Features
* Java Application
* Comma Separated Value (CSV) format input files
 * Required Input: `Buy_Or_Sell,Symbol,Transaction_Date_Time,Rate,Quantity,CommissionAmount,Trade_Id,Trade_CustomVoucher_Number,Long_Or_Short`
 * Sample Input Entry: `Buy,KKKK,2024-02-22 09:00:00:000,32.10,4000,10.0000,D80618,QQ240222_01,LONG`
* Generates Tab Separated Value (TSV) format output
 * Sample Output:<br>
```
Per Symbol
Symbol	CapitalGain
AAAA	110734.7604
BBBB	8765.4321
```


## Sample Input
```
Buy,KKKK,2024-02-22 09:00:00:000,32.10,4000,10.0000,D80618,QQ240222_01,LONG,,,
Buy,SSSS,2024-03-12 10:00:00:000,1272.3,200,10.0000,D56116,QQ240312_03,LONG,,,
Buy,ZZZZ,2024-03-16 11:00:00:000,316.08,2000,10.0000,D17108,QQ240316_02,LONG,,,
Sell,SSSS,2024-03-18 09:00:00:000,1286.95,400,10.0000,D28672,QQ240318_04,LONG,,,
Buy,YYYY,2024-03-18 11:00:00:000,666.23,1400,5.0000,D26466,QQ240318_05,LONG,,,
Sell,YYYY,2024-03-18 14:00:00:000,653.23,800,10.0000,D00758,QQ240318_06,LONG,,,
```


## Sample Output
```
--------- LONG ---------
Symbol	TotalSaleQty	BuyPrice	SellPrice	CloseDate	OpenDate	PartialQtySold	CapitalGain	CommissionSell	CommissionTotal	BuyOrderId	SellOrderID	BuyVoucherNo	SellVoucherNo	BuyExchangeRate	SellExchangeRate	Intraday	Turnover
BBBB	2000	45.48	46.88	2024-04-01	2024-03-23	2000	2779.7800	10.2200	20.2200	D84763	D28331	QQ240323_01	QQ240401_30	1	1	0	93760.00
SSSS	400	1342.88	1339.80	2024-04-01	2024-02-25	200	-626.2900	5.2900	10.2900	D77699	D31614	QQ240225_01	QQ240401_31	1	1	0	267960.00
SSSS	400	1272.3	1339.80	2024-04-01	2024-03-12	200	13484.7100	5.2900	15.2900	D56116	D31614	QQ240312_03	QQ240401_31	1	1	0	267960.00
AAAA	200	579.35	615.23	2024-04-05	2024-03-30	200	7160.84000000	10.16000000	15.16000000	D35543	D33430	QQ240330_01	QQ240405_05	1	1	0	123046.00
ZYXW	40	5578.20	5578.58	2024-04-05	2024-04-05	40	-5.0400	10.2400	20.2400	D62249	D62501	QQ240405_08	QQ240405_09	1	1	1	5.0400
SSSS	200	1286.95	1373.35	2024-04-06	2024-03-18	200	17264.68000000	10.32000000	15.32000000	D28672	D21469	QQ240318_04	QQ240406_01	1	1	0	274670.00
...
....
---- Stock-in-hand -----
Symbol	Qty	PrincipalAmt	Commission
AAAA	1200	1000236.00	20.0000
BBBB	0	0	0
CCC	680	185840.40	25.0000
KKKK	10000	260700.00	30.0000
...
....
Commission for stock-in-hand	547.5000
Count of stock-in-hand	22260
Symbol	CapitalGain
AAAA	110734.76040000
BBBB	42279.52000000
CCC	10047.30000000
MMMM	24487.0800
...
....
```
